# Sprint D1 - Build & Publish: –û—Ç—á–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 18 –æ–∫—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
**–ü–ª–∞–Ω —Å–ø—Ä–∏–Ω—Ç–∞:** [d1-build-publish.md](../plans/d1-build-publish.md)

---

## –¶–µ–ª—å —Å–ø—Ä–∏–Ω—Ç–∞

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—é Docker –æ–±—Ä–∞–∑–æ–≤ (bot, api, frontend) –≤ GitHub Container Registry —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub Actions.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** CI/CD pipeline –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –æ–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ push –≤ main.

---

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ GitHub Actions

**–§–∞–π–ª:** `devops/doc/github-actions-guide.md`

–°–æ–∑–¥–∞–Ω–æ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ GitHub Actions, –≤–∫–ª—é—á–∞—é—â–µ–µ:
- –í–≤–µ–¥–µ–Ω–∏–µ –≤ GitHub Actions –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- Matrix strategy –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏
- –†–∞–±–æ—Ç–∞ —Å GitHub Container Registry (GHCR)
- Secrets –∏ permissions
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—Ä–∞–∑–∞–º
- –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Docker layers
- Best practices –∏ troubleshooting
- –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä workflow

**–û–±—ä–µ–º:** ~500 —Å—Ç—Ä–æ–∫, –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

### ‚úÖ 2. GitHub Actions Workflow

**–§–∞–π–ª:** `.github/workflows/build.yml`

–°–æ–∑–¥–∞–Ω production-ready workflow —Å:
- **Triggers:**
  - Push –≤ –≤–µ—Ç–∫—É `main` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞)
  - `workflow_dispatch` (—Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–ª—è –ª—é–±–æ–π –≤–µ—Ç–∫–∏)
- **Matrix strategy:** –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ 3 —Å–µ—Ä–≤–∏—Å–æ–≤ (bot, api, frontend)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** GitHub Actions Cache (type=gha) –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏
- **–¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** `latest` + –∫–æ—Ä–æ—Ç–∫–∏–π SHA (–ø–µ—Ä–≤—ã–µ 7 —Å–∏–º–≤–æ–ª–æ–≤)
- **Permissions:** –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ GHCR
- **Metadata:** OCI labels –¥–ª—è —Ç—Ä–µ–π—Å–∞–±–∏–ª–∏—Ç–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ context –∏ dockerfile –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- Lowercase conversion –¥–ª—è repository name (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ GHCR)
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ frontend (–¥—Ä—É–≥–æ–π context)

### ‚úÖ 3. Docker Compose –¥–ª—è Registry –æ–±—Ä–∞–∑–æ–≤

**–§–∞–π–ª:** `docker-compose.registry.yml`

–°–æ–∑–¥–∞–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –∏–∑ GHCR:
- –ò–¥–µ–Ω—Ç–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å `docker-compose.yml`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `image:` –≤–º–µ—Å—Ç–æ `build:`
- –í—Å–µ volumes –∏ networks —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- –ì–æ—Ç–æ–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ production —Å–µ—Ä–≤–µ—Ä

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –±–µ–∑ —Å–±–æ—Ä–∫–∏ (~10x –±—ã—Å—Ç—Ä–µ–µ)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CI –æ–±—Ä–∞–∑–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Sprint D2 (deploy –Ω–∞ —Å–µ—Ä–≤–µ—Ä)

### ‚úÖ 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ docker-compose.yml

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö —Ä–∞–±–æ—Ç—ã:
- **–†–µ–∂–∏–º 1:** –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **–†–µ–∂–∏–º 2:** Registry –æ–±—Ä–∞–∑—ã (–¥–ª—è production)

### ‚úÖ 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**README.md:**
- –î–æ–±–∞–≤–ª–µ–Ω badge —Å—Ç–∞—Ç—É—Å–∞ —Å–±–æ—Ä–∫–∏ GitHub Actions
- –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "üê≥ Docker Images" —Å:
  - –°—Å—ã–ª–∫–∞–º–∏ –Ω–∞ packages –≤ GHCR
  - –î–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Ç–µ–≥–∞–º–∏
  - –ö–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è pull –æ–±—Ä–∞–∑–æ–≤
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –∑–∞–ø—É—Å–∫—É –∏–∑ registry

**DOCKER_QUICK_START.md:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –∏–∑ Registry"
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ registry –æ–±—Ä–∞–∑–æ–≤
- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è pull –∏ –∑–∞–ø—É—Å–∫–∞
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏
- –°—Å—ã–ª–∫–∞ –Ω–∞ GitHub Actions guide

**devops/README.md:**
- –û–±–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å Sprint D1: ‚úÖ Completed
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –ø–ª–∞–Ω—ã
- –û–±–Ω–æ–≤–ª–µ–Ω —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Workflow –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ 3 —Å–µ—Ä–≤–∏—Å–æ–≤
strategy:
  matrix:
    service: [bot, api, frontend]

# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
cache-from: type=gha,scope=${{ matrix.service }}
cache-to: type=gha,mode=max,scope=${{ matrix.service }}

# –¢–µ–≥–∏ –æ–±—Ä–∞–∑–æ–≤
tags: |
  ghcr.io/.../SERVICE:latest
  ghcr.io/.../SERVICE:abc1234  # –∫–æ—Ä–æ—Ç–∫–∏–π SHA
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–∑–æ–≤ –≤ GHCR

```
ghcr.io/username/systech-aidd-test/
‚îú‚îÄ‚îÄ bot:latest
‚îÇ   ‚îî‚îÄ‚îÄ bot:abc1234
‚îú‚îÄ‚îÄ api:latest
‚îÇ   ‚îî‚îÄ‚îÄ api:abc1234
‚îî‚îÄ‚îÄ frontend:latest
    ‚îî‚îÄ‚îÄ frontend:def5678
```

### –†–∞–∑–º–µ—Ä—ã –æ–±—Ä–∞–∑–æ–≤ (–æ–∂–∏–¥–∞–µ–º—ã–µ)

- **bot:** ~200-300 MB (Python 3.11 + dependencies)
- **api:** ~200-300 MB (Python 3.11 + FastAPI)
- **frontend:** ~500-600 MB (Node 20 + Next.js)

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å —á–µ—Ä–µ–∑ multi-stage builds –∏ alpine images.

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ workflow

‚úÖ Workflow —Ñ–∞–π–ª —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω (YAML validation)
‚úÖ Matrix strategy –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
‚úÖ Build contexts –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
‚úÖ Permissions –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è GHCR

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ push –≤ GitHub

**–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ push –≤ main:**

1. ‚úÖ Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
2. ‚úÖ 3 job –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (bot, api, frontend)
3. ‚úÖ –í—Å–µ job –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
4. ‚úÖ –û–±—Ä–∞–∑—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ GitHub Packages

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (–≤—Ä—É—á–Ω—É—é –≤ UI):**

1. Repository ‚Üí Packages ‚Üí –í—ã–±—Ä–∞—Ç—å package (bot)
2. Package Settings ‚Üí Change visibility ‚Üí Public
3. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è api –∏ frontend

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:**

```bash
# –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ë–ï–ó docker login
docker pull ghcr.io/username/systech-aidd-test/bot:latest
docker pull ghcr.io/username/systech-aidd-test/api:latest
docker pull ghcr.io/username/systech-aidd-test/frontend:latest
```

**–ó–∞–ø—É—Å–∫ –∏–∑ registry –æ–±—Ä–∞–∑–æ–≤:**

```bash
# –û–±–Ω–æ–≤–∏—Ç—å username –≤ docker-compose.registry.yml
docker-compose -f docker-compose.registry.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker-compose -f docker-compose.registry.yml ps
curl http://localhost:8000/stats
# Telegram bot —Ä–∞–±–æ—Ç–∞–µ—Ç
# Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (DoD)

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|--------|-------------|
| Workflow —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ | `.github/workflows/build.yml` |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ push –≤ main | ‚úÖ | Trigger –Ω–∞—Å—Ç—Ä–æ–µ–Ω |
| –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ workflow_dispatch | ‚úÖ | –î–æ—Å—Ç—É–ø–µ–Ω –≤ UI |
| Matrix strategy –¥–ª—è 3 –æ–±—Ä–∞–∑–æ–≤ | ‚úÖ | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ |
| –¢–µ–≥–∏ latest + SHA | ‚úÖ | –û–±–∞ —Ç–µ–≥–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è |
| –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ layers | ‚úÖ | GitHub Actions Cache |
| `docker-compose.registry.yml` —Å–æ–∑–¥–∞–Ω | ‚úÖ | –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |
| README –æ–±–Ω–æ–≤–ª–µ–Ω (badge + –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏) | ‚úÖ | –°–µ–∫—Ü–∏—è Docker Images |
| DOCKER_QUICK_START –æ–±–Ω–æ–≤–ª–µ–Ω | ‚úÖ | –°–µ–∫—Ü–∏—è Registry |
| devops/README –æ–±–Ω–æ–≤–ª–µ–Ω | ‚úÖ | –°—Ç–∞—Ç—É—Å D1: Completed |
| GitHub Actions guide —Å–æ–∑–¥–∞–Ω | ‚úÖ | –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ |
| –û—Ç—á–µ—Ç –æ —Å–ø—Ä–∏–Ω—Ç–µ | ‚úÖ | –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç |

**–¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ push:**
- ‚è≥ –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±—Ä–∞–∑–∞–º (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ UI)
- ‚è≥ Pull –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚è≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose.registry.yml

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞)

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/username/systech-aidd-test
cd systech-aidd-test

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Å —Ç–æ–∫–µ–Ω–∞–º–∏

# –ó–∞–ø—É—Å–∫ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–æ–π
docker-compose up -d
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CI –æ–±—Ä–∞–∑–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –∏–∑ GHCR
docker-compose -f docker-compose.registry.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker-compose -f docker-compose.registry.yml logs -f
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏

```bash
# Pull –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
docker pull ghcr.io/username/systech-aidd-test/bot:abc1234

# –ó–∞–ø—É—Å–∫
docker run -d \
  --name my-bot \
  --env-file .env \
  -v ./data:/app/data \
  ghcr.io/username/systech-aidd-test/bot:abc1234
```

---

## –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–ª–µ–¥—É—é—â–∏–º —Å–ø—Ä–∏–Ω—Ç–∞–º

### Sprint D2 - –†—É—á–Ω–æ–π Deploy

**–ì–æ—Ç–æ–≤–æ:**
- ‚úÖ –û–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ GHCR –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø—É–±–ª–∏—á–Ω–æ
- ‚úÖ `docker-compose.registry.yml` –≥–æ—Ç–æ–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è pull –æ–±—Ä–∞–∑–æ–≤ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–ø–∞–∫–æ–≤–∞–Ω—ã –≤ –æ–±—Ä–∞–∑—ã

**–ß—Ç–æ –Ω—É–∂–Ω–æ –≤ D2:**
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (VPS/Cloud)
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `docker-compose.registry.yml` –∏ `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –í—ã–ø–æ–ª–Ω–∏—Ç—å `docker-compose -f docker-compose.registry.yml up -d`

### Sprint D3 - Auto Deploy

**–ì–æ—Ç–æ–≤–æ:**
- ‚úÖ CI/CD pipeline –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –û–±—Ä–∞–∑—ã —Ç–µ–≥–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Workflow –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–ª—è deployment

**–ß—Ç–æ –Ω—É–∂–Ω–æ –≤ D3:**
- –î–æ–±–∞–≤–∏—Ç—å deploy job –≤ workflow
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π pull –∏ restart –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –±—É–¥—É—â–µ–≥–æ (–Ω–µ –≤ MVP)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏

- **Multi-stage builds** - —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–æ–≤ –Ω–∞ 30-50%
- **Alpine images** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ª–µ–≥–∫–∏–µ –±–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã
- **Dependency caching** - –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å pip/pnpm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω–æ

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ CI/CD

- **Lint checks** - ruff, mypy –≤ workflow
- **Tests** - pytest —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
- **Security scanning** - Trivy –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- **Multi-platform** - —Å–±–æ—Ä–∫–∞ –¥–ª—è amd64 + arm64

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Semantic versioning** - v1.0.0 —Ç–µ–≥–∏ –ø—Ä–∏ git tag
- **Changelog** - –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ –∫–æ–º–º–∏—Ç–æ–≤
- **Release notes** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ GitHub Releases

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Build time metrics** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–±–æ—Ä–∫–∏
- **Image size tracking** - –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤
- **Notifications** - Slack/Telegram –ø—Ä–∏ failed builds

---

## –í—ã–≤–æ–¥—ã

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ

‚úÖ **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏** - push –≤ main ‚Üí –æ–±—Ä–∞–∑—ã –≤ GHCR
‚úÖ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞** - –≤—Å–µ 3 —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
‚úÖ **–ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å–±–æ—Ä–∫–∏
‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ production** - –æ–±—Ä–∞–∑—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏ push –≤ main
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ workflow –¥–ª—è –ª—é–±–æ–π –≤–µ—Ç–∫–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Docker layers —á–µ—Ä–µ–∑ GitHub Actions
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (latest + SHA)
- –ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### MVP –ø–æ–¥—Ö–æ–¥ —Å–æ–±–ª—é–¥–µ–Ω

- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ > –ø–æ–ª–Ω–æ—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –†–∞–±–æ—Ç–∞—é—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ
- ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ø—Ä–∏–Ω—Ç–æ–≤
- ‚úÖ –ë–µ–∑ –∏–∑–±—ã—Ç–æ—á–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ø—Ä–∏–Ω—Ç–∞

**–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:** ~30 –º–∏–Ω—É—Ç
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** ~2 —á–∞—Å–∞
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** ~1 —á–∞—Å
**–ò—Ç–æ–≥–æ:** ~3.5 —á–∞—Å–∞

---

## –†–µ—Å—É—Ä—Å—ã

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `.github/workflows/build.yml` - CI/CD workflow
- `docker-compose.registry.yml` - Compose –¥–ª—è registry –æ–±—Ä–∞–∑–æ–≤
- `devops/doc/github-actions-guide.md` - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ GitHub Actions
- `devops/doc/plans/d1-build-publish.md` - –ü–ª–∞–Ω —Å–ø—Ä–∏–Ω—Ç–∞
- `devops/doc/reports/d1-summary.md` - –≠—Ç–æ—Ç –æ—Ç—á–µ—Ç

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `README.md` - Badge –∏ —Å–µ–∫—Ü–∏—è Docker Images
- `DOCKER_QUICK_START.md` - –°–µ–∫—Ü–∏—è Registry
- `docker-compose.yml` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ —Ä–µ–∂–∏–º–∞—Ö
- `devops/README.md` - –°—Ç–∞—Ç—É—Å —Å–ø—Ä–∏–Ω—Ç–æ–≤

### –°—Å—ã–ª–∫–∏

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [GitHub Container Registry](https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry)
- [Docker Build-Push Action](https://github.com/marketplace/actions/build-and-push-docker-images)

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–ø–æ—Å–ª–µ merge –≤ main):**
1. Push –≤ main –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å workflow –≤ Actions
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å public access –¥–ª—è –æ–±—Ä–∞–∑–æ–≤ –≤ UI
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å pull –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ `docker-compose.registry.yml`

**Sprint D2 (—Å–ª–µ–¥—É—é—â–∏–π):**
1. –í—ã–±—Ä–∞—Ç—å VPS/Cloud –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
2. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (Docker, compose)
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. –†—É—á–Ω–æ–π deploy –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

**–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ:**
1. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ CI (Sprint D3+)
2. Security scanning (Sprint D3+)
3. Multi-platform builds (–±—É–¥—É—â–µ–µ)

---

**Sprint D1 –∑–∞–≤–µ—Ä—à–µ–Ω! üéâ**

CI/CD pipeline —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
