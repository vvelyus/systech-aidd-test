# ‚úÖ Sprint D2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

> –í—Å–µ —Ñ–∞–π–ª—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–î–∞—Ç–∞:** 18 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úÖ  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

---

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### ‚úÖ env.production.example
- –ü–æ–ª–Ω—ã–π —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –°–µ–∫—Ü–∏–∏: Telegram, OpenRouter, Database, Logging

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
cp env.production.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
```

#### ‚úÖ docker-compose.prod.yml
- Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose
- –û–±—Ä–∞–∑—ã –∏–∑ GHCR (–ø—É–±–ª–∏—á–Ω—ã–µ, –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- –ü–æ—Ä—Ç—ã: 8001 (API), 3001 (Frontend)
- Healthchecks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ (restart: always)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (10MB √ó 5 —Ñ–∞–π–ª–æ–≤)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
```yaml
services:
  bot:
    image: ghcr.io/vvelyus/systech-aidd-test/bot:latest
    restart: always
    healthcheck: ...
  
  api:
    image: ghcr.io/vvelyus/systech-aidd-test/api:latest
    ports: ["8001:8000"]
    healthcheck: ...
  
  frontend:
    image: ghcr.io/vvelyus/systech-aidd-test/frontend:latest
    ports: ["3001:3000"]
    environment:
      - NEXT_PUBLIC_API_URL=http://89.223.67.136:8001
```

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### ‚úÖ docs/guides/MANUAL_DEPLOY.md (570 —Å—Ç—Ä–æ–∫)

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**

1. **–≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –¥–æ—Å—Ç—É–ø–∞
   - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ .env —Ñ–∞–π–ª–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤

2. **–≠—Ç–∞–ø 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É**
   - SSH —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker –∏ Docker Compose
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

3. **–≠—Ç–∞–ø 3: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**
   - SCP –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–ª—è Windows
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

4. **–≠—Ç–∞–ø 4: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**
   - –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (data, logs, prompts)
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

5. **–≠—Ç–∞–ø 5: –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–æ–≤**
   - Pull –∏–∑ GHCR
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤

6. **–≠—Ç–∞–ø 6: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤**
   - docker-compose up -d
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

7. **–≠—Ç–∞–ø 7: –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î**
   - –ó–∞–ø—É—Å–∫ Alembic –º–∏–≥—Ä–∞—Ü–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

8. **–≠—Ç–∞–ø 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
   - API healthcheck
   - Frontend –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
   - –¢–µ—Å—Ç Telegram –±–æ—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

9. **–≠—Ç–∞–ø 9: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**
   - –ß–µ–∫-–ª–∏—Å—Ç –∏–∑ 8 –ø—É–Ω–∫—Ç–æ–≤
   - –ö–æ–º–∞–Ω–¥—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏:**
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (stop, restart, down)
- ‚úÖ Troubleshooting (6 —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º)
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ Backup –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- ‚úÖ –ü–æ–ª–µ–∑–Ω—ã–µ –∞–ª–∏–∞—Å—ã

#### ‚úÖ devops/doc/plans/d2-manual-deploy.md

–ü–ª–∞–Ω —Å–ø—Ä–∏–Ω—Ç–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –∑–∞–¥–∞—á –∏ –æ–∂–∏–¥–∞–µ–º—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

#### ‚úÖ devops/doc/SPRINT_D2_PROGRESS.md

–î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å —á–µ–∫-–ª–∏—Å—Ç–∞–º–∏ –∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏.

#### ‚úÖ devops/scripts/README.md

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

### 3. –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

#### ‚úÖ devops/scripts/check-server.sh (300+ —Å—Ç—Ä–æ–∫)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞:**

```bash
./devops/scripts/check-server.sh /path/to/ssh_key.pem
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–≤–µ—Ä—Å–∏—è >= 20.10)
- ‚úÖ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–≤–µ—Ä—Å–∏—è >= 2.0)
- ‚úÖ –ü—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ Docker
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤ 8001, 3001
- ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ ghcr.io (HTTPS)
- ‚úÖ –†–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞ (–¥–∏—Å–∫, –ø–∞–º—è—Ç—å)
- ‚úÖ Firewall –ø—Ä–∞–≤–∏–ª–∞ (UFW)

**–í—ã–≤–æ–¥:**
- –¶–≤–µ—Ç–Ω–æ–π (–∑–µ–ª–µ–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π/–∂–µ–ª—Ç—ã–π)
- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

#### ‚úÖ devops/scripts/deploy.sh (350+ —Å—Ç—Ä–æ–∫)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:**

```bash
./devops/scripts/deploy.sh /path/to/ssh_key.pem
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (.env –≤–∞–ª–∏–¥–∞—Ü–∏—è!)
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
3. –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. –ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ SCP
5. –ó–∞–≥—Ä—É–∂–∞–µ—Ç Docker –æ–±—Ä–∞–∑—ã
6. –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã
7. –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
8. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç healthchecks
9. –í—ã–≤–æ–¥–∏—Ç –∏—Ç–æ–≥–æ–≤—É—é —Å–≤–æ–¥–∫—É

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ .env (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ placeholders)
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç —Å URLs

**–ü—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:**
```bash
git update-index --chmod=+x devops/scripts/check-server.sh
git update-index --chmod=+x devops/scripts/deploy.sh
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –§–∞–π–ª—ã
- **–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤:** 8
- **–°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** ~1300
- **–°—Ç—Ä–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤:** ~700
- **–°—Ç—Ä–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** ~150

### –ü–æ–∫—Ä—ã—Ç–∏–µ
- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ (100%)
- ‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (100%)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (100%)
- ‚úÖ Troubleshooting (6 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (100%)
- ‚úÖ Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (100%)

---

## üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –ß—Ç–æ –≥–æ—Ç–æ–≤–æ ‚úÖ

- [x] Production docker-compose —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏
- [x] –®–∞–±–ª–æ–Ω .env —Å–æ –≤—Å–µ–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- [x] –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (570 —Å—Ç—Ä–æ–∫)
- [x] –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- [x] –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º
- [x] Troubleshooting —Å–µ–∫—Ü–∏—è
- [x] Backup –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- [ ] SSH –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É
- [ ] –ó–∞–ø–æ–ª–Ω–∏—Ç—å .env —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏:
  - TELEGRAM_BOT_TOKEN (–æ—Ç @BotFather)
  - OPENROUTER_API_KEY (–æ—Ç openrouter.ai)

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
# 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
cp env.production.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
./devops/scripts/check-server.sh /path/to/ssh_key.pem

# 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (–∞–≤—Ç–æ–º–∞—Ç)
./devops/scripts/deploy.sh /path/to/ssh_key.pem
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π**

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: [docs/guides/MANUAL_DEPLOY.md](../../docs/guides/MANUAL_DEPLOY.md)

---

## üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### MVP –ø–æ–¥—Ö–æ–¥ ‚úÖ

- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç–∏
- –ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –∏–∑ GHCR (–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç)
- SQLite –≤–º–µ—Å—Ç–æ PostgreSQL (—É–ø—Ä–æ—â–µ–Ω–∏–µ)
- –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä (–±–µ–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞)
- HTTP –±–µ–∑ SSL (–±—É–¥–µ—Ç –≤ D3)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚úÖ

- .env —Å –ø—Ä–∞–≤–∞–º–∏ 600
- –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ git
- Read-only mount –¥–ª—è –ø—Ä–æ–º–ø—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –∫–ª—é—á–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚úÖ

- –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
- –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- Rollback –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

- –ö–æ–º–∞–Ω–¥—ã ready-to-copy
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–ª—è Windows
- Troubleshooting –¥–ª—è 6+ –ø—Ä–æ–±–ª–µ–º
- Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ

1. **–ü–æ–ª—É—á–∏—Ç—å SSH –∫–ª—é—á** –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞
2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å .env** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:** `./devops/scripts/check-server.sh`

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å deploy:** `./devops/scripts/deploy.sh`
   - –ò–õ–ò —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É** –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
6. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –±–æ—Ç–∞ –≤ Telegram
7. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

8. –°–æ–∑–¥–∞—Ç—å backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
9. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
10. –û–±–Ω–æ–≤–∏—Ç—å SPRINT_D2_PROGRESS.md
11. –°–æ–∑–¥–∞—Ç—å SPRINT_D2_COMPLETION.md

### Sprint D3 (—Å–ª–µ–¥—É—é—â–∏–π)

- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub Actions
- Deploy on push to main
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (Let's Encrypt)
- –î–æ–º–µ–Ω –≤–º–µ—Å—Ç–æ IP

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:

- [ ] –ï—Å—Ç—å SSH –∫–ª—é—á –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ 89.223.67.136
- [ ] –°–æ–∑–¥–∞–Ω .env —Ñ–∞–π–ª —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
- [ ] TELEGRAM_BOT_TOKEN –∑–∞–ø–æ–ª–Ω–µ–Ω (–Ω–µ placeholder)
- [ ] OPENROUTER_API_KEY –∑–∞–ø–æ–ª–Ω–µ–Ω (–Ω–µ placeholder)
- [ ] –§–∞–π–ª—ã –µ—Å—Ç—å: docker-compose.prod.yml, prompts/system_prompt.txt
- [ ] –°–∫—Ä–∏–ø—Ç—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (Linux/Mac)
- [ ] –ü—Ä–æ—á–∏—Ç–∞–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è MANUAL_DEPLOY.md
- [ ] –ì–æ—Ç–æ–≤—ã –ª–æ–≥–∏–Ω—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Telegram –±–æ—Ç—É

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Troubleshooting** –≤ MANUAL_DEPLOY.md
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ check-server.sh** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. **–ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏:** `docker-compose logs`
4. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞**

---

## üéâ –ò—Ç–æ–≥–æ

**–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Sprint D2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ 100%**

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã, —Å–∫—Ä–∏–ø—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ - –ø–æ–ª—É—á–∏—Ç—å SSH –∫–ª—é—á –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**–í—Ä–µ–º—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:** ~2 —á–∞—Å–∞  
**–°–æ–∑–¥–∞–Ω–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:** 8 —Ñ–∞–π–ª–æ–≤  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ deploy:** ‚úÖ 100%

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 18 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** DevOps Team

